import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;

import java.util.List;

class AoCTest {

    @Test
    void testLogicWithExample() {
        // ejemplo
        List<String> mockLines = List.of(
            "[.##.] (3) (1,3) (2) (2,3) (0,2) (0,1) {3,5,4,7}" 
        );

        // ejecucion
        var machinesLights = MachineLigthsParser.parse(mockLines);
        long total = new DeviceController().turnOnMachines(machinesLights);

        // verificacion
        // el resultado esperado es 2
        assertEquals(2, total, "El cálculo de baterías/luces no es correcto para el ejemplo");
    }

    @Test
    void testEmptyInput() {
        // test para asegurar que no falla con listas vacías
        List<String> emptyLines = List.of();
        
        var machinesLights = MachineLigthsParser.parse(emptyLines);
        long total = new DeviceController().turnOnMachines(machinesLights);
        
        assertEquals(0, total, "Si no hay máquinas, el total debería ser 0");
    }
}
